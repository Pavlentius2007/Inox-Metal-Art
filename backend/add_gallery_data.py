#!/usr/bin/env python3
"""
–°–∫—Ä–∏–ø—Ç –¥–ª—è –¥–æ–±–∞–≤–ª–µ–Ω–∏—è —Ç–µ—Å—Ç–æ–≤—ã—Ö –¥–∞–Ω–Ω—ã—Ö –≥–∞–ª–µ—Ä–µ–∏
"""

import sys
import os
sys.path.append(os.path.dirname(os.path.abspath(__file__)))

from app.core.database import SessionLocal, engine
from app.models.gallery import Gallery
from sqlalchemy.orm import Session

def add_test_gallery():
    """–î–æ–±–∞–≤–ª—è–µ—Ç —Ç–µ—Å—Ç–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ –≥–∞–ª–µ—Ä–µ–∏ –≤ –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö"""
    
    # –°–æ–∑–¥–∞–µ–º —Ç–∞–±–ª–∏—Ü—ã –µ—Å–ª–∏ –∏—Ö –Ω–µ—Ç
    from app.models import product, gallery, video, project, certificate, technology, page_content
    from app.core.database import Base
    Base.metadata.create_all(bind=engine)
    
    db = SessionLocal()
    
    try:
        # –ü—Ä–æ–≤–µ—Ä—è–µ–º, –µ—Å—Ç—å –ª–∏ —É–∂–µ –¥–∞–Ω–Ω—ã–µ –≥–∞–ª–µ—Ä–µ–∏
        existing_galleries = db.query(Gallery).count()
        if existing_galleries > 0:
            print(f"–í –±–∞–∑–µ —É–∂–µ –µ—Å—Ç—å {existing_galleries} —ç–ª–µ–º–µ–Ω—Ç–æ–≤ –≥–∞–ª–µ—Ä–µ–∏. –ü—Ä–æ–ø—É—Å–∫–∞–µ–º –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ.")
            return
        
        # –¢–µ—Å—Ç–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ –≥–∞–ª–µ—Ä–µ–∏
        test_galleries = [
                                {
                        "title": "Titanium Gold PVD",
                        "description": "–ó–æ–ª–æ—Ç–æ–µ PVD –ø–æ–∫—Ä—ã—Ç–∏–µ —Å –∑–µ—Ä–∫–∞–ª—å–Ω—ã–º –±–ª–µ—Å–∫–æ–º",
                        "category": "PVD –ø–æ–∫—Ä—ã—Ç–∏—è",
                        "color": "–ó–æ–ª–æ—Ç–æ–π",
                        "finish": "–ó–µ—Ä–∫–∞–ª—å–Ω—ã–π",
                        "features": ["–í—ã—Å–æ–∫–∞—è –∏–∑–Ω–æ—Å–æ—Å—Ç–æ–π–∫–æ—Å—Ç—å", "–î–µ–∫–æ—Ä–∞—Ç–∏–≤–Ω—ã–π —ç—Ñ—Ñ–µ–∫—Ç", "–£—Å—Ç–æ–π—á–∏–≤–æ—Å—Ç—å –∫ –∫–æ—Ä—Ä–æ–∑–∏–∏"],
                        "status": "active",
                        "sort_order": 1
                    },
                    {
                        "title": "Titanium Bronze PVD",
                        "description": "–ë—Ä–æ–Ω–∑–æ–≤–æ–µ PVD –ø–æ–∫—Ä—ã—Ç–∏–µ —Å —Ç–µ–ø–ª—ã–º –æ—Ç—Ç–µ–Ω–∫–æ–º",
                        "category": "PVD –ø–æ–∫—Ä—ã—Ç–∏—è",
                        "color": "–ë—Ä–æ–Ω–∑–æ–≤—ã–π",
                        "finish": "–ú–∞—Ç–æ–≤–∞—è",
                        "features": ["–¢–µ–ø–ª—ã–π –æ—Ç—Ç–µ–Ω–æ–∫", "–ú–∞—Ç–æ–≤–∞—è —Ç–µ–∫—Å—Ç—É—Ä–∞", "–î–æ–ª–≥–æ–≤–µ—á–Ω–æ—Å—Ç—å"],
                        "status": "active",
                        "sort_order": 2
                    },
                    {
                        "title": "Titanium Black PVD",
                        "description": "–ß–µ—Ä–Ω–æ–µ PVD –ø–æ–∫—Ä—ã—Ç–∏–µ —Å –≥–ª—É–±–æ–∫–∏–º —Ü–≤–µ—Ç–æ–º",
                        "category": "PVD –ø–æ–∫—Ä—ã—Ç–∏—è",
                        "color": "–ß–µ—Ä–Ω—ã–π",
                        "finish": "–ú–∞—Ç–æ–≤–∞—è",
                        "features": ["–ì–ª—É–±–æ–∫–∏–π —á–µ—Ä–Ω—ã–π —Ü–≤–µ—Ç", "–°–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π –¥–∏–∑–∞–π–Ω", "–£–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω–æ—Å—Ç—å"],
                        "status": "active",
                        "sort_order": 3
                    },
                    {
                        "title": "Titanium Rainbow PVD",
                        "description": "–†–∞–¥—É–∂–Ω–æ–µ PVD –ø–æ–∫—Ä—ã—Ç–∏–µ —Å –ø–µ—Ä–µ–ª–∏–≤–∞—é—â–∏–º–∏—Å—è —Ü–≤–µ—Ç–∞–º–∏",
                        "category": "PVD –ø–æ–∫—Ä—ã—Ç–∏—è",
                        "color": "–†–∞–¥—É–∂–Ω—ã–π",
                        "finish": "–ü–µ—Ä–µ–ª–∏–≤–∞—é—â–∏–π—Å—è",
                        "features": ["–£–Ω–∏–∫–∞–ª—å–Ω—ã–π —ç—Ñ—Ñ–µ–∫—Ç", "–ü–µ—Ä–µ–ª–∏–≤–∞—é—â–∏–µ—Å—è —Ü–≤–µ—Ç–∞", "–ü—Ä–µ–º–∏—É–º –∫–∞—á–µ—Å—Ç–≤–æ"],
                        "status": "active",
                        "sort_order": 4
                    },
                    {
                        "title": "–ü–∞—Ç–∏–Ω–∏—Ä–æ–≤–∞–Ω–Ω–∞—è —Å—Ç–∞–ª—å - –ê–Ω—Ç–∏–∫",
                        "description": "–ö–ª–∞—Å—Å–∏—á–µ—Å–∫–æ–µ –ø–∞—Ç–∏–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–æ–¥ —Å—Ç–∞—Ä–∏–Ω—É",
                        "category": "–ü–∞—Ç–∏–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ",
                        "color": "–ê–Ω—Ç–∏—á–Ω—ã–π",
                        "finish": "–¢–µ–∫—Å—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω–∞—è",
                        "features": ["–ö–ª–∞—Å—Å–∏—á–µ—Å–∫–∏–π —Å—Ç–∏–ª—å", "–ê–Ω—Ç–∏—á–Ω—ã–π —ç—Ñ—Ñ–µ–∫—Ç", "–¢–µ–∫—Å—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω–∞—è –ø–æ–≤–µ—Ä—Ö–Ω–æ—Å—Ç—å"],
                        "status": "active",
                        "sort_order": 5
                    },
                    {
                        "title": "–ü–∞—Ç–∏–Ω–∏—Ä–æ–≤–∞–Ω–Ω–∞—è —Å—Ç–∞–ª—å - –í–∏–Ω—Ç–∞–∂",
                        "description": "–í–∏–Ω—Ç–∞–∂–Ω–æ–µ –ø–∞—Ç–∏–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —Å —ç—Ñ—Ñ–µ–∫—Ç–æ–º –≤—Ä–µ–º–µ–Ω–∏",
                        "category": "–ü–∞—Ç–∏–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ",
                        "color": "–í–∏–Ω—Ç–∞–∂–Ω—ã–π",
                        "finish": "–°–æ—Å—Ç–∞—Ä–µ–Ω–Ω–∞—è",
                        "features": ["–í–∏–Ω—Ç–∞–∂–Ω—ã–π —Å—Ç–∏–ª—å", "–≠—Ñ—Ñ–µ–∫—Ç –≤—Ä–µ–º–µ–Ω–∏", "–£–Ω–∏–∫–∞–ª—å–Ω–∞—è —Ç–µ–∫—Å—Ç—É—Ä–∞"],
                        "status": "active",
                        "sort_order": 6
                    },
                    {
                        "title": "–ì–µ–æ–º–µ—Ç—Ä–∏—á–µ—Å–∫–∏–π —É–∑–æ—Ä",
                        "description": "–°–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π –≥–µ–æ–º–µ—Ç—Ä–∏—á–µ—Å–∫–∏–π —É–∑–æ—Ä —Å —Ç–æ—á–Ω—ã–º —Ç—Ä–∞–≤–ª–µ–Ω–∏–µ–º",
                        "category": "–¢—Ä–∞–≤–ª–µ–Ω–∏–µ —É–∑–æ—Ä–æ–≤",
                        "color": "–ú–µ—Ç–∞–ª–ª–∏—á–µ—Å–∫–∏–π",
                        "finish": "–¢–µ–∫—Å—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω–∞—è",
                        "features": ["–ì–µ–æ–º–µ—Ç—Ä–∏—á–µ—Å–∫–∏–µ —Ñ–æ—Ä–º—ã", "–¢–æ—á–Ω–æ–µ —Ç—Ä–∞–≤–ª–µ–Ω–∏–µ", "–°–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π –¥–∏–∑–∞–π–Ω"],
                        "status": "active",
                        "sort_order": 7
                    },
                    {
                        "title": "–§–ª–æ—Ä–∏—Å—Ç–∏—á–µ—Å–∫–∏–π —É–∑–æ—Ä",
                        "description": "–≠–ª–µ–≥–∞–Ω—Ç–Ω—ã–π —Ü–≤–µ—Ç–æ—á–Ω—ã–π —É–∑–æ—Ä —Å –ø—Ä–∏—Ä–æ–¥–Ω—ã–º–∏ –º–æ—Ç–∏–≤–∞–º–∏",
                        "category": "–¢—Ä–∞–≤–ª–µ–Ω–∏–µ —É–∑–æ—Ä–æ–≤",
                        "color": "–ú–µ—Ç–∞–ª–ª–∏—á–µ—Å–∫–∏–π",
                        "finish": "–¢–µ–∫—Å—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω–∞—è",
                        "features": ["–¶–≤–µ—Ç–æ—á–Ω—ã–µ –º–æ—Ç–∏–≤—ã", "–ü—Ä–∏—Ä–æ–¥–Ω—ã–µ —É–∑–æ—Ä—ã", "–≠–ª–µ–≥–∞–Ω—Ç–Ω–æ—Å—Ç—å"],
                        "status": "active",
                        "sort_order": 8
                    }
        ]
        
        # –î–æ–±–∞–≤–ª—è–µ–º —ç–ª–µ–º–µ–Ω—Ç—ã –≥–∞–ª–µ—Ä–µ–∏
        for gallery_data in test_galleries:
            gallery = Gallery(**gallery_data)
            db.add(gallery)
            print(f"–î–æ–±–∞–≤–ª–µ–Ω —ç–ª–µ–º–µ–Ω—Ç –≥–∞–ª–µ—Ä–µ–∏: {gallery_data['title']}")
        
        db.commit()
        print(f"‚úÖ –£—Å–ø–µ—à–Ω–æ –¥–æ–±–∞–≤–ª–µ–Ω–æ {len(test_galleries)} —ç–ª–µ–º–µ–Ω—Ç–æ–≤ –≥–∞–ª–µ—Ä–µ–∏!")
        
    except Exception as e:
        print(f"‚ùå –û—à–∏–±–∫–∞ –ø—Ä–∏ –¥–æ–±–∞–≤–ª–µ–Ω–∏–∏ –≥–∞–ª–µ—Ä–µ–∏: {e}")
        db.rollback()
    finally:
        db.close()

if __name__ == "__main__":
    print("üöÄ –î–æ–±–∞–≤–ª—è–µ–º —Ç–µ—Å—Ç–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ –≥–∞–ª–µ—Ä–µ–∏...")
    add_test_gallery()
    print("‚ú® –ì–æ—Ç–æ–≤–æ!")
