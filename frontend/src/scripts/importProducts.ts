// Скрипт для массового импорта продуктов с сайта InoxMetalArt
// Запускать в браузере на странице админки

interface ProductData {
  name: string;
  category: string;
  description: string;
  specifications: {
    type: string;
    thickness?: string;
    hardness?: string;
    colors?: string;
    scratch_resistance?: string;
    effect?: string;
    maintenance?: string;
    eco?: string;
    roughness?: string;
    quality?: string;
    reflection?: string;
    texture?: string;
  };
  features: string[];
  price: string;
  detailed: {
    technology: string;
    types?: string[];
    colors?: string[];
    testing?: string;
    quality?: string;
    experience?: string;
    benefits?: string[];
    applications?: string[];
    features?: string[];
  };
}

// Все продукты с сайта InoxMetalArt
const inoxMetalArtProducts: ProductData[] = [
  // 1. PVD покрытия (Titanium coating)
  {
    name: 'Titanium PVD покрытие',
    category: 'PVD покрытия',
    description: 'Вакуумное напыление нитридов титана на нержавеющую сталь с яркими декоративными цветами',
    specifications: {
      type: 'PVD покрытие',
      thickness: '0.3 мкм',
      hardness: '1600-1800 HV',
      colors: '12 стандартных цветов'
    },
    features: [
      'Яркие декоративные цвета',
      'Устойчивость к коррозии',
      '30+ лет проверенной надежности',
      'Экологичность'
    ],
    price: 'от 3500 ₽/м²',
    detailed: {
      technology: 'Физическое осаждение из паровой фазы (PVD) — это технология напыления ионов титана в вакуумной камере, создающая прочную металлокерамическую пленку толщиной 0,3 мкм с твердостью 1600-1800 HV.',
      types: ['TiN', 'ZrN', 'CrN', 'TiAlN', 'TiC', 'TiCN', 'TiO'],
      colors: ['Золотой', 'Бронзовый', 'Черный', 'Радужный', 'Платиновый', 'Медный', 'Серебряный', 'Графитовый'],
      testing: 'Наши PVD-покрытия прошли 1000 часов солевого тумана, подтверждая их долговечность и устойчивость к коррозии.',
      quality: 'Для обеспечения точности цвета мы контролируем показатели цвета в 9 точках на каждом листе с помощью спектрофотометра, гарантируя однородность цвета.',
      experience: 'Все наши PVD-изделия, установленные за последние 30 лет, остаются неизменными.',
      benefits: [
        'Яркие декоративные цвета',
        'Устойчивость к коррозии',
        '30+ лет проверенной надежности',
        'Экологичность'
      ],
      applications: [
        'Архитектурные фасады',
        'Интерьерные панели',
        'Декоративные элементы',
        'Художественные инсталляции',
        'Рестораны и отели'
      ],
      features: [
        'Различные цвета PVD',
        'Высокая устойчивость к коррозии',
        'Долговечность покрытия',
        'Экологичность'
      ]
    }
  },

  // 2. Nano Scratch Resistant (NSR™)
  {
    name: 'Nano Scratch Resistant (NSR™)',
    category: 'Нанопокрытия',
    description: 'Нанопокрытие против царапин, в 4 раза тверже обычной стали',
    specifications: {
      type: 'Нанопокрытие',
      hardness: '578 HV',
      thickness: 'Нанослой',
      scratch_resistance: 'В 4 раза выше'
    },
    features: [
      'В 4 раза тверже обычной стали',
      'Идеально для лифтов и кухонь',
      'Защита от царапин',
      'Долговечность'
    ],
    price: 'от 2800 ₽/м²',
    detailed: {
      technology: 'NSR™ (Nano Scratch Resistant) — это специальное прозрачное нанопокрытие, повышающее твердость поверхности нержавеющей стали.',
      benefits: [
        'В 4 раза тверже незащищенного металла',
        'Идеально для лифтов, кухонь и зон с интенсивным использованием',
        'Сохраняется внешний вид',
        'Легко моется'
      ],
      applications: [
        'Двери лифтов',
        'Поручни',
        'Общественные пространства',
        'Коммерческие кухни',
        'Сервисные зоны'
      ],
      testing: 'Уровень твердости по карандашному тесту подтверждает, что NSR в 4 раза прочнее обычной стали.',
      quality: 'Нанотехнология обеспечивает равномерное распределение защитного слоя по всей поверхности.',
      experience: 'Проверено в коммерческих лифтах и кухнях с высоким трафиком.',
      features: [
        'Прозрачное покрытие',
        'Повышенная твердость',
        'Защита от царапин',
        'Долговечность'
      ]
    }
  },

  // 3. Nano Anti-Fingerprint (NAS™)
  {
    name: 'Nano Anti-Fingerprint (NAS™)',
    category: 'Нанопокрытия',
    description: 'Антиотпечатковое покрытие с антибактериальными свойствами',
    specifications: {
      type: 'Антибактериальное покрытие',
      effect: 'Уничтожает бактерии за 24 часа',
      maintenance: 'Не требует ухода',
      eco: 'Экологически чистый продукт'
    },
    features: [
      'Снижает расходы на обслуживание',
      'Защищает от бактерий',
      'Экологически чистый',
      'Не оставляет отпечатков'
    ],
    price: 'от 3200 ₽/м²',
    detailed: {
      technology: 'NAS = Nano Anti-fingerprint Surface — это гидрофобное/олефобное покрытие, благодаря которому на нержавейке не остаются следы пальцев.',
      benefits: [
        'Поверхность обладает антибактериальными свойствами',
        'Снижает потребность в частой чистке',
        'Сокращает расходы на уход',
        'Безопасно для окружающей среды'
      ],
      applications: [
        'Больницы',
        'Общественные места',
        'Аэропорты',
        'Торговые центры',
        'Офисные здания'
      ],
      testing: 'Антибактериальные свойства подтверждены лабораторными испытаниями.',
      quality: 'Нанотехнология обеспечивает глубокое проникновение в поверхность стали.',
      experience: 'Используется в медицинских учреждениях и общественных местах по всему миру.',
      features: [
        'Антибактериальные свойства',
        'Гидрофобное покрытие',
        'Легкость в уходе',
        'Экологичность'
      ]
    }
  },

  // 4. N8 Mirror Finish
  {
    name: 'N8 Mirror Finish',
    category: 'Базовые отделки',
    description: 'Сверх-зеркальная полировка с шероховатостью Ra ~0.01 мкм',
    specifications: {
      type: 'Зеркальная полировка',
      roughness: 'Ra ~0.01 мкм',
      quality: 'N8 (высший класс)',
      reflection: 'Максимальное отражение'
    },
    features: [
      'Сверх-зеркальный блеск',
      'Идеально для премиум-проектов',
      'Архитектурные решения',
      'Декоративные элементы'
    ],
    price: 'от 1800 ₽/м²',
    detailed: {
      technology: 'Сталь отполирована до зеркального блеска (качество N8) — это высочайший класс полировки (Ra ~0.01 мкм).',
      benefits: [
        'Такая поверхность сравнима с зеркалом',
        'Используется в представительских интерьерах',
        'Лифты премиум-класса',
        'Декоративные элементы'
      ],
      applications: [
        'Архитектурные проекты',
        'Интерьерные решения',
        'Люксовые проекты',
        'Декоративные панели'
      ],
      quality: 'Контроль качества по международным стандартам.',
      experience: '30+ лет опыта в создании зеркальных поверхностей.',
      features: [
        'Максимальное отражение',
        'Премиальный вид',
        'Высшая степень полировки'
      ]
    }
  },

  // 5. Satin Finish (N4)
  {
    name: 'Satin Finish (N4)',
    category: 'Базовые отделки',
    description: 'Классическая матовая шлифованная поверхность с однородными линиями',
    specifications: {
      type: 'Сатинирование',
      quality: 'N4',
      texture: 'Однородные линии шлифовки',
      reflection: 'Матовая поверхность'
    },
    features: [
      'Благородный матовый блеск',
      'Популярно для лифтов',
      'Менее маркий чем зеркало',
      'Практичность'
    ],
    price: 'от 1200 ₽/м²',
    detailed: {
      technology: 'Классическая матовая шлифованная поверхность (чаще всего называется "сатиновая" или «шлифованная №4»).',
      benefits: [
        'Имеет однородные тонкие линии шлифовки',
        'Менее отражающая, чем зеркало',
        'Популярна для отделки лифтов',
        'Техника'
      ],
      applications: [
        'Отделка лифтов',
        'Бытовая техника',
        'Интерьерные панели',
        'Декоративные элементы'
      ],
      quality: 'Однородная текстура по всей поверхности.',
      experience: 'Стандарт для большинства коммерческих применений.',
      features: [
        'Благородный матовый блеск',
        'Менее маркий чем зеркало',
        'Практичность'
      ]
    }
  },

  // 6. Hairline Finish (HL)
  {
    name: 'Hairline Finish (HL)',
    category: 'Базовые отделки',
    description: 'Отделка с непрерывными продольными линиями шлифовки',
    specifications: {
      type: 'Полировка "волосок"',
      texture: 'Направленные линии',
      finish: 'Более глянцевый чем satin',
      direction: 'Продольная'
    },
    features: [
      'Направленная текстура',
      'Более глянцевый чем satin',
      'Современный вид',
      'Популярность в дизайне'
    ],
    price: 'от 1500 ₽/м²',
    detailed: {
      technology: 'Hairline Finish — это отделка с непрерывными продольными линиями шлифовки, создающая направленную текстуру.',
      benefits: [
        'Создает направленную текстуру',
        'Более глянцевый чем satin',
        'Современный вид',
        'Популярность в дизайне'
      ],
      applications: [
        'Кухонные поверхности',
        'Лифты',
        'Офисная мебель',
        'Торговое оборудование',
        'Декоративные элементы'
      ],
      quality: 'Точное направление линий шлифовки.',
      experience: 'Популярный выбор для современных интерьеров.',
      features: [
        'Направленная текстура',
        'Более глянцевый чем satin',
        'Современный вид',
        'Популярность в дизайне'
      ]
    }
  },

  // 7. Vibration Finish (VIB)
  {
    name: 'Vibration Finish (VIB)',
    category: 'Базовые отделки',
    description: 'Нерегулярный недирекционный рисунок шлифовки с круговыми следами',
    specifications: {
      type: 'Вибрационная отделка',
      texture: 'Круговые следы',
      direction: 'Недирекционная',
      effect: 'Мягкий шелковистый блеск'
    },
    features: [
      'Мягкий шелковистый блеск',
      'Скрывает отпечатки',
      'Практичность',
      'Большие панели'
    ],
    price: 'от 1400 ₽/м²',
    detailed: {
      technology: 'Нерегулярный, недирекционный (беспорядочный) рисунок шлифовки, получаемый круговыми или хаотичными движениями абразива.',
      benefits: [
        'На поверхности – мелкие "вихревые" или круговые следы',
        'Создает равномерную матовую текстуру',
        'Хорошо скрывает отпечатки и царапины'
      ],
      applications: [
        'Высококачественная вибрационная отделка идеальна для архитектурного и декоративного применения',
        'Отделка больших панелей'
      ],
      quality: 'Равномерная текстура по всей поверхности.',
      experience: 'Идеально для больших архитектурных панелей.',
      features: [
        'Вибрационная шлифовка дает мягкий шелковистый блеск',
        'Очень практична для отделки больших панелей',
        'На ней менее заметны дефекты и отпечатки'
      ]
    }
  },

  // 8. Bead Blast Finish (BB)
  {
    name: 'Bead Blast Finish (BB)',
    category: 'Базовые отделки',
    description: 'Дробеструйная матовая обработка стеклянными шариками',
    specifications: {
      type: 'Дробеструйная обработка',
      material: 'Стеклянные/керамические шарики',
      texture: 'Равномерная матовость',
      effect: 'Самая матовая отделка'
    },
    features: [
      'Равномерная матовая поверхность',
      'Скрывает отпечатки',
      'Приятная на ощупь',
      'Рассеянный блеск'
    ],
    price: 'от 1100 ₽/м²',
    detailed: {
      technology: 'Поверхность обработана мелкими стеклянными или керамическими шариками под высоким давлением, что придает равномерный матовый вид.',
      benefits: [
        'Это самая матовая из отделок',
        'Без выраженных направленных рисок',
        'Уместна для антибликовых поверхностей'
      ],
      applications: [
        'Пол лифта',
        'Декоративные элементы',
        'Антибликовые поверхности',
        'Интерьерные панели'
      ],
      quality: 'Равномерная матовая текстура.',
      experience: 'Популярна для антибликовых применений.',
      features: [
        'Дробеструйная обработка создает ровную матовую поверхность',
        'Скрывает отпечатки и отражения',
        'Приятная на ощупь'
      ]
    }
  },

  // 9. Patina Finish
  {
    name: 'Patina Finish',
    category: 'Патинирование',
    description: 'Химическое патинирование для создания уникальных цветовых эффектов',
    specifications: {
      type: 'Химическое патинирование',
      colors: 'Множество оттенков',
      effect: 'Уникальные цвета',
      durability: 'Высокая'
    },
    features: [
      'Уникальные цветовые эффекты',
      'Художественная отделка',
      'Индивидуальный дизайн',
      'Высокая декоративность'
    ],
    price: 'от 4500 ₽/м²',
    detailed: {
      technology: 'Патинирование — это процесс химической обработки поверхности нержавеющей стали для создания уникальных цветовых эффектов.',
      benefits: [
        'Создает уникальные цвета',
        'Художественная отделка',
        'Индивидуальный дизайн',
        'Высокая декоративность'
      ],
      applications: [
        'Декоративные панели',
        'Интерьерные элементы',
        'Художественные инсталляции',
        'Архитектурные детали',
        'Мебельные фасады'
      ],
      quality: 'Каждый лист уникален по цвету.',
      experience: '30+ лет опыта в художественном патинировании.',
      features: [
        'Уникальные цвета',
        'Художественная отделка',
        'Индивидуальный дизайн',
        'Высокая декоративность'
      ]
    }
  },

  // 10. Etched Patterns
  {
    name: 'Etched Patterns',
    category: 'Травление узоров',
    description: 'Химическое травление для создания декоративных узоров и текстур',
    specifications: {
      type: 'Химическое травление',
      patterns: 'Различные узоры',
      depth: 'Контролируемая',
      precision: 'Высокая'
    },
    features: [
      'Декоративные узоры',
      'Высокая точность',
      'Индивидуальный дизайн',
      'Художественная отделка'
    ],
    price: 'от 3800 ₽/м²',
    detailed: {
      technology: 'Химическое травление — это процесс создания декоративных узоров на поверхности нержавеющей стали с помощью химических реагентов.',
      benefits: [
        'Создает декоративные узоры',
        'Высокая точность',
        'Индивидуальный дизайн',
        'Художественная отделка'
      ],
      applications: [
        'Декоративные панели',
        'Интерьерные элементы',
        'Художественные инсталляции',
        'Архитектурные детали',
        'Мебельные фасады'
      ],
      quality: 'Высокая точность воспроизведения узоров.',
      experience: '130+ готовых шаблонов на выбор.',
      features: [
        'Различные узоры',
        'Высокая точность',
        'Индивидуальный дизайн',
        'Художественная отделка'
      ]
    }
  },

  // 11. Embossed Patterns
  {
    name: 'Embossed Patterns',
    category: 'Рифленые узоры',
    description: 'Механическое тиснение для создания объемных узоров и текстур',
    specifications: {
      type: 'Механическое тиснение',
      patterns: 'Объемные узоры',
      depth: 'До 2 мм',
      precision: 'Высокая'
    },
    features: [
      'Объемные узоры',
      'Тактильные ощущения',
      'Индивидуальный дизайн',
      'Высокая декоративность'
    ],
    price: 'от 4200 ₽/м²',
    detailed: {
      technology: 'Механическое тиснение — это процесс создания объемных узоров на поверхности нержавеющей стали с помощью специальных инструментов.',
      benefits: [
        'Создает объемные узоры',
        'Тактильные ощущения',
        'Индивидуальный дизайн',
        'Высокая декоративность'
      ],
      applications: [
        'Декоративные панели',
        'Интерьерные элементы',
        'Художественные инсталляции',
        'Архитектурные детали',
        'Мебельные фасады'
      ],
      quality: 'Глубина тиснения до 2 мм.',
      experience: 'Возможность создания индивидуальных узоров.',
      features: [
        'Объемные узоры',
        'Тактильные ощущения',
        'Индивидуальный дизайн',
        'Высокая декоративность'
      ]
    }
  },

  // 12. Art Brush
  {
    name: 'Art Brush™',
    category: 'Художественные отделки',
    description: 'Механическая обработка поверхности с созданием художественных текстур',
    specifications: {
      type: 'Художественная брашировка',
      texture: 'Уникальные текстуры',
      direction: 'Различные направления',
      effect: 'Художественный результат'
    },
    features: [
      'Уникальные текстуры',
      'Художественный результат',
      'Индивидуальность',
      'Декоративность'
    ],
    price: 'от 3600 ₽/м²',
    detailed: {
      technology: 'Art Brush — это процесс механической обработки поверхности нержавеющей стали мелкими абразивными материалами по различным направлениям.',
      benefits: [
        'Создает уникальные художественные текстуры',
        'Возможность индивидуального дизайна',
        'Высокая декоративность',
        'Сохранение функциональности'
      ],
      applications: [
        'Декоративные панели',
        'Интерьерные элементы',
        'Художественные инсталляции',
        'Архитектурные детали',
        'Мебельные фасады'
      ],
      quality: 'Каждый лист уникален по текстуре.',
      experience: 'Художественная отделка ручной работы.',
      features: [
        'Различные направления брашировки',
        'Возможность создания сложных узоров',
        'Уникальность каждого листа',
        'Долговечность отделки'
      ]
    }
  }
];

// Функция для добавления продукта через API
async function addProduct(productData: ProductData): Promise<void> {
  try {
    const response = await fetch('http://localhost:8000/api/v1/products/', {
      method: 'POST',
      headers: {
        'Content-Type': 'application/json',
      },
      body: JSON.stringify(productData),
    });

    if (!response.ok) {
      throw new Error(`Ошибка при добавлении продукта: ${response.statusText}`);
    }

    const result = await response.json();
    console.log(`✅ Продукт "${productData.name}" успешно добавлен:`, result);
  } catch (error) {
    console.error(`❌ Ошибка при добавлении продукта "${productData.name}":`, error);
  }
}

// Функция для массового импорта всех продуктов
async function importAllProducts(): Promise<void> {
  console.log('🚀 Начинаем массовый импорт продуктов...');
  console.log(`📦 Всего продуктов для импорта: ${inoxMetalArtProducts.length}`);
  
  let successCount = 0;
  let errorCount = 0;

  for (let i = 0; i < inoxMetalArtProducts.length; i++) {
    const product = inoxMetalArtProducts[i];
    console.log(`\n📝 Импортируем продукт ${i + 1}/${inoxMetalArtProducts.length}: ${product.name}`);
    
    try {
      await addProduct(product);
      successCount++;
      
      // Небольшая задержка между запросами
      await new Promise(resolve => setTimeout(resolve, 500));
    } catch (error) {
      errorCount++;
      console.error(`❌ Ошибка импорта:`, error);
    }
  }

  console.log('\n🎉 Импорт завершен!');
  console.log(`✅ Успешно импортировано: ${successCount}`);
  console.log(`❌ Ошибок: ${errorCount}`);
  console.log(`📊 Всего: ${inoxMetalArtProducts.length}`);
}

// Функция для импорта по категориям
async function importProductsByCategory(category: string): Promise<void> {
  const filteredProducts = inoxMetalArtProducts.filter(p => p.category === category);
  
  if (filteredProducts.length === 0) {
    console.log(`❌ Категория "${category}" не найдена`);
    return;
  }

  console.log(`🚀 Импортируем продукты категории "${category}"...`);
  console.log(`📦 Найдено продуктов: ${filteredProducts.length}`);
  
  let successCount = 0;
  let errorCount = 0;

  for (let i = 0; i < filteredProducts.length; i++) {
    const product = filteredProducts[i];
    console.log(`\n📝 Импортируем продукт ${i + 1}/${filteredProducts.length}: ${product.name}`);
    
    try {
      await addProduct(product);
      successCount++;
      
      // Небольшая задержка между запросами
      await new Promise(resolve => setTimeout(resolve, 500));
    } catch (error) {
      errorCount++;
      console.error(`❌ Ошибка импорта:`, error);
    }
  }

  console.log(`\n🎉 Импорт категории "${category}" завершен!`);
  console.log(`✅ Успешно импортировано: ${successCount}`);
  console.log(`❌ Ошибок: ${errorCount}`);
}

// Функция для очистки всех продуктов (осторожно!)
async function clearAllProducts(): Promise<void> {
  if (!confirm('⚠️ ВНИМАНИЕ! Это действие удалит ВСЕ продукты из базы данных. Продолжить?')) {
    console.log('❌ Операция отменена пользователем');
    return;
  }

  try {
    const response = await fetch('http://localhost:8000/api/v1/products/', {
      method: 'DELETE',
    });

    if (response.ok) {
      console.log('🗑️ Все продукты успешно удалены');
    } else {
      console.error('❌ Ошибка при удалении продуктов');
    }
  } catch (error) {
    console.error('❌ Ошибка при удалении продуктов:', error);
  }
}

// Экспортируем функции для использования в консоли браузера
(window as any).inoxMetalArtImport = {
  importAllProducts,
  importProductsByCategory,
  clearAllProducts,
  products: inoxMetalArtProducts
};

console.log('🚀 Скрипт импорта продуктов InoxMetalArt загружен!');
console.log('📚 Доступные функции:');
console.log('  - inoxMetalArtImport.importAllProducts() - импорт всех продуктов');
console.log('  - inoxMetalArtImport.importProductsByCategory("PVD покрытия") - импорт по категории');
console.log('  - inoxMetalArtImport.clearAllProducts() - удаление всех продуктов (осторожно!)');
console.log('  - inoxMetalArtImport.products - список всех продуктов для импорта');

export {
  inoxMetalArtProducts,
  addProduct,
  importAllProducts,
  importProductsByCategory,
  clearAllProducts
};



